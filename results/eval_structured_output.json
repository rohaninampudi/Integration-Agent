{
  "timestamp": "2026-01-08T18:46:05.307669",
  "git_sha": "db70c4c",
  "prompt_hash": "b9c21e3f",
  "total_scenarios": 12,
  "metrics": {
    "action_accuracy": 100.0,
    "liquid_valid": 100.0,
    "renders_to_json": 100.0,
    "avg_latency_ms": 40186.61676030994,
    "error_rate": 0.0
  },
  "details": [
    {
      "scenario_id": 0,
      "request": "Post the summary to Slack",
      "expected_action": "slack_post_message",
      "actual_action": "slack_post_message",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user wants to post a message to Slack. The available actions include 'slack_post_message' which maps to Slack's chat.postMessage. The API docs show the required payload fields are 'channel' and 'text'. We have 'slack_channel' for the target channel and 'summary' for the message content, so we construct the minimal valid payload using those variables.",
      "proposed_config": "{ \"channel\": \"{{ slack_channel }}\", \"text\": \"{{ summary }}\" }",
      "rendered_config": "{ \"channel\": \"#product-alerts\", \"text\": \"Found 3 products. Average price: $91.66. Lowest: USB-C Hub ($45.00)\" }",
      "latency_ms": 30906.0212909244,
      "error": null
    },
    {
      "scenario_id": 1,
      "request": "Add these products to my Notion database",
      "expected_action": "notion_create_page",
      "actual_action": "notion_create_page",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user wants to add multiple products as entries (rows) in a Notion database. The 'notion_create_page' action creates a new page in a database, which corresponds to adding a row. Using the Notion API docs for Create a Page, each page requires a parent database_id and properties. We loop over scraper_results to produce one valid Notion page payload per product with Name (title), Price (number), and URL (url) properties. This template renders to a JSON array of page creation payloads, with each element conforming to the Notion Create Page schema.",
      "proposed_config": "[{% for product in scraper_results %}{\"parent\":{\"database_id\":\"{{ notion_database_id }}\"},\"properties\":{\"Name\":{\"title\":[{\"text\":{\"content\":\"{{ product.name }}\"}}]},\"Price\":{\"number\":{{ product.price }}},\"URL\":{\"url\":\"{{ product.url }}\"}}}{% unless forloop.last %},{% endunless %}{% endfor %}]",
      "rendered_config": "[{\"parent\":{\"database_id\":\"8a3b1c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d\"},\"properties\":{\"Name\":{\"title\":[{\"text\":{\"content\":\"Wireless Headphones\"}}]},\"Price\":{\"number\":79.99},\"URL\":{\"url\":\"https://store.example.com/p/1001\"}}},{\"parent\":{\"database_id\":\"8a3b1c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d\"},\"properties\":{\"Name\":{\"title\":[{\"text\":{\"content\":\"USB-C Hub\"}}]},\"Price\":{\"number\":45.0},\"URL\":{\"url\":\"https://store.example.com/p/1002\"}}},{\"parent\":{\"database_id\":\"8a3b1c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d\"},\"properties\":{\"Name\":{\"title\":[{\"text\":{\"content\":\"Mechanical Keyboard\"}}]},\"Price\":{\"number\":149.99},\"URL\":{\"url\":\"https://store.example.com/p/1003\"}}}]",
      "latency_ms": 44437.53320793621,
      "error": null
    },
    {
      "scenario_id": 2,
      "request": "Create a GitHub issue for the failed scrape",
      "expected_action": "github_create_issue",
      "actual_action": "github_create_issue",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user requested creating a GitHub issue for a failed scrape. The 'github_create_issue' action is the correct match. Using the API docs, the payload requires a title and optionally a body and labels. I used the provided 'summary' and 'error_details' variables to populate a clear issue body with Markdown formatting and added labels for tracking.",
      "proposed_config": "{ \"title\": \"Scrape Failed - Automated Report\", \"body\": \"## Summary\\n\\n{{ summary }}\\n\\n## Error Details\\n\\n```\\n{{ error_details }}\\n```\\n\\n---\\n*This issue was automatically created by the Integration Agent.*\", \"labels\": [\"bug\", \"automated\", \"scrape\"] }",
      "rendered_config": "{ \"title\": \"Scrape Failed - Automated Report\", \"body\": \"## Summary\\n\\nScrape failed: Connection timeout after 30s. URL: https://store.example.com\\n\\n## Error Details\\n\\n```\\nTimeoutError: Request exceeded 30000ms\\n```\\n\\n---\\n*This issue was automatically created by the Integration Agent.*\", \"labels\": [\"bug\", \"automated\", \"scrape\"] }",
      "latency_ms": 46521.31608291529,
      "error": null
    },
    {
      "scenario_id": 3,
      "request": "Add these results to the existing spreadsheet",
      "expected_action": "google_sheets_append",
      "actual_action": "google_sheets_append",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user wants to add rows to an existing Google Sheet, and a spreadsheet_id is provided. The 'google_sheets_append' action matches this need. The config uses a Liquid loop to map each product (name, price, URL) into a row and includes the required fields per the API docs (spreadsheetId, range, valueInputOption, values).",
      "proposed_config": "{ \"spreadsheetId\": \"{{ spreadsheet_id }}\", \"range\": \"Sheet1!A:C\", \"valueInputOption\": \"USER_ENTERED\", \"values\": [{% for product in scraper_results %}[\"{{ product.name }}\", {{ product.price }}, \"{{ product.url }}\"]{% unless forloop.last %}, {% endunless %}{% endfor %}] }",
      "rendered_config": "{ \"spreadsheetId\": \"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms\", \"range\": \"Sheet1!A:C\", \"valueInputOption\": \"USER_ENTERED\", \"values\": [[\"Wireless Headphones\", 79.99, \"https://store.example.com/p/1001\"], [\"USB-C Hub\", 45.0, \"https://store.example.com/p/1002\"]] }",
      "latency_ms": 27061.776416143402,
      "error": null
    },
    {
      "scenario_id": 4,
      "request": "Update the Notion block with the new status message",
      "expected_action": "notion_update_block",
      "actual_action": "notion_update_block",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user wants to update an existing Notion block with a new status message. The 'notion_update_block' action is purpose-built for modifying block content. Using the provided block_id, we patch the block's rich_text content (assuming a text/paragraph-type block) with the new_content string. Although the retrieved docs skewed toward page creation, the Notion Update Block API expects the block type key (e.g., 'paragraph') with a 'rich_text' array for text updates, which we apply here.",
      "proposed_config": "{ \"block_id\": \"{{ block_id }}\", \"paragraph\": { \"rich_text\": [ { \"type\": \"text\", \"text\": { \"content\": \"{{ new_content }}\" } } ] } }",
      "rendered_config": "{ \"block_id\": \"b1c2d3e4-5f6a-7b8c-9d0e-1f2a3b4c5d6e\", \"paragraph\": { \"rich_text\": [ { \"type\": \"text\", \"text\": { \"content\": \"Status: Completed \u2705 - All tasks finished successfully.\" } } ] } }",
      "latency_ms": 46792.54100006074,
      "error": null
    },
    {
      "scenario_id": 5,
      "request": "Create a record in my Airtable base with the product data",
      "expected_action": "airtable_create_record",
      "actual_action": "airtable_create_record",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user wants to create a new record in an Airtable base using provided product data. The 'airtable_create_record' action is designed for this purpose. Based on the Airtable API docs, the request requires specifying the base (baseId), the table (tableIdOrName), and a payload containing a records array with a fields object. I mapped the provided product_data properties into the Airtable fields and included base_id and table_name so the action targets the correct base/table.",
      "proposed_config": "{ \"baseId\": \"{{ base_id }}\", \"tableIdOrName\": \"{{ table_name }}\", \"records\": [ { \"fields\": { \"name\": \"{{ product_data.name }}\", \"price\": {{ product_data.price }}, \"category\": \"{{ product_data.category }}\", \"in_stock\": {{ product_data.in_stock }} } } ] }",
      "rendered_config": "{ \"baseId\": \"appXYZ123456789\", \"tableIdOrName\": \"Products\", \"records\": [ { \"fields\": { \"name\": \"New Product\", \"price\": 99.99, \"category\": \"Electronics\", \"in_stock\": true } } ] }",
      "latency_ms": 77846.29991697147,
      "error": null
    },
    {
      "scenario_id": 6,
      "request": "Add this lead as a contact in HubSpot",
      "expected_action": "hubspot_create_contact",
      "actual_action": "hubspot_create_contact",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user wants to add a lead as a contact in HubSpot. The 'hubspot_create_contact' action is designed to create a new contact in HubSpot CRM. Based on the API docs, the payload must include a 'properties' object with at least the 'email' field. I mapped the provided workflow variables (lead) to HubSpot\u2019s standard contact properties (email, firstname, lastname, phone, company, jobtitle) and set lifecyclestage to 'lead' to reflect the request.",
      "proposed_config": "{ \"properties\": { \"email\": \"{{ lead.email }}\", \"firstname\": \"{{ lead.first_name }}\", \"lastname\": \"{{ lead.last_name }}\", \"phone\": \"{{ lead.phone }}\", \"company\": \"{{ lead.company }}\", \"jobtitle\": \"{{ lead.job_title }}\", \"lifecyclestage\": \"lead\", \"hs_lead_status\": \"NEW\" } }",
      "rendered_config": "{ \"properties\": { \"email\": \"john.smith@acmecorp.com\", \"firstname\": \"John\", \"lastname\": \"Smith\", \"phone\": \"+1-555-123-4567\", \"company\": \"Acme Corporation\", \"jobtitle\": \"VP of Engineering\", \"lifecyclestage\": \"lead\", \"hs_lead_status\": \"NEW\" } }",
      "latency_ms": 29706.694207852706,
      "error": null
    },
    {
      "scenario_id": 7,
      "request": "Create a Trello card for this task",
      "expected_action": "trello_create_card",
      "actual_action": "trello_create_card",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user asked to create a Trello card. The 'trello_create_card' action is the appropriate choice. According to the Trello API docs, idList is required and optional fields include name, desc, and due. The available workflow variables provide list_id and task details (name, description, due_date), which map directly to idList, name, desc, and due respectively.",
      "proposed_config": "{ \"idList\": \"{{ list_id }}\", \"name\": \"{{ task.name }}\", \"desc\": \"{{ task.description }}\", \"due\": \"{{ task.due_date }}\" }",
      "rendered_config": "{ \"idList\": \"5f1a2b3c4d5e6f7a8b9c0d1e\", \"name\": \"Review pull request #42\", \"desc\": \"Code review needed for the authentication module updates\", \"due\": \"2024-01-15T17:00:00Z\" }",
      "latency_ms": 26206.68837497942,
      "error": null
    },
    {
      "scenario_id": 8,
      "request": "Create a Jira ticket for this bug",
      "expected_action": "jira_create_issue",
      "actual_action": "jira_create_issue",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user requested creating a Jira ticket. The jira_create_issue action is appropriate for creating a new issue. The config maps available variables to the Jira API fields, including project key, summary, issue type, description (in ADF), priority, and labels.",
      "proposed_config": "{ \"fields\": { \"project\": { \"key\": \"{{ project_key }}\" }, \"summary\": \"{{ bug.summary }}\", \"issuetype\": { \"name\": \"Bug\" }, \"description\": { \"type\": \"doc\", \"version\": 1, \"content\": [ { \"type\": \"paragraph\", \"content\": [ { \"type\": \"text\", \"text\": \"{{ bug.description }}\" } ] } ] }, \"priority\": { \"name\": \"{{ bug.priority }}\" }, \"labels\": [{% for label in labels %}\"{{ label }}\"{% unless forloop.last %}, {% endunless %}{% endfor %}] } }",
      "rendered_config": "{ \"fields\": { \"project\": { \"key\": \"PROJ\" }, \"summary\": \"Login page returns 500 error on mobile\", \"issuetype\": { \"name\": \"Bug\" }, \"description\": { \"type\": \"doc\", \"version\": 1, \"content\": [ { \"type\": \"paragraph\", \"content\": [ { \"type\": \"text\", \"text\": \"Users on iOS Safari cannot log in. Error occurs after entering credentials.\" } ] } ] }, \"priority\": { \"name\": \"High\" }, \"labels\": [\"mobile\", \"urgent\", \"login\"] } }",
      "latency_ms": 38749.74129186012,
      "error": null
    },
    {
      "scenario_id": 9,
      "request": "Create a new customer in Stripe for this signup",
      "expected_action": "stripe_create_customer",
      "actual_action": "stripe_create_customer",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user wants to create a new customer in Stripe. The 'stripe_create_customer' action matches this intent. Using the API docs, we map available workflow variables to Stripe fields: email, name, and phone from the customer object, and include plan and signup_source in metadata for tracking, plus a helpful description.",
      "proposed_config": "{ \"email\": \"{{ customer.email }}\", \"name\": \"{{ customer.name }}\", \"phone\": \"{{ customer.phone }}\", \"description\": \"Signup from {{ signup_source }} - Plan: {{ plan }}\", \"metadata\": { \"plan\": \"{{ plan }}\", \"signup_source\": \"{{ signup_source }}\" } }",
      "rendered_config": "{ \"email\": \"newuser@example.com\", \"name\": \"Jane Doe\", \"phone\": \"+1-555-987-6543\", \"description\": \"Signup from landing_page - Plan: premium\", \"metadata\": { \"plan\": \"premium\", \"signup_source\": \"landing_page\" } }",
      "latency_ms": 31560.263458872214,
      "error": null
    },
    {
      "scenario_id": 10,
      "request": "Send an email notification via SendGrid about the order",
      "expected_action": "sendgrid_send_email",
      "actual_action": "sendgrid_send_email",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user explicitly asked to send an email via SendGrid. The 'sendgrid_send_email' action maps to the SendGrid v3 Mail Send API. Since no template_id was provided, a simple subject + text/HTML content payload is appropriate and meets the API's required fields (personalizations, from, subject, content). The configuration uses the provided workflow variables for recipient, order details, and sender info.",
      "proposed_config": "{ \"personalizations\": [ { \"to\": [ { \"email\": \"{{ recipient.email }}\", \"name\": \"{{ recipient.name }}\" } ] } ], \"from\": { \"email\": \"{{ from_email }}\", \"name\": \"{{ from_name }}\" }, \"subject\": \"Your order {{ order.id }} is {{ order.status }}\", \"content\": [ { \"type\": \"text/plain\", \"value\": \"Hi {{ recipient.name }},\\n\\nYour order {{ order.id }} is now {{ order.status }}.\\nTotal: {{ order.total }}\\n\\nIf you have questions, reply to this email.\\n\\n- {{ from_name }}\" }, { \"type\": \"text/html\", \"value\": \"<html><body><p>Hi {{ recipient.name }},</p><p>Your order <strong>{{ order.id }}</strong> is now <strong>{{ order.status }}</strong>.</p><p>Total: <strong>{{ order.total }}</strong></p><p>If you have questions, just reply to this email.</p><p>- {{ from_name }}</p></body></html>\" } ] }",
      "rendered_config": "{ \"personalizations\": [ { \"to\": [ { \"email\": \"customer@example.com\", \"name\": \"John Customer\" } ] } ], \"from\": { \"email\": \"orders@store.com\", \"name\": \"Store Notifications\" }, \"subject\": \"Your order ORD-12345 is shipped\", \"content\": [ { \"type\": \"text/plain\", \"value\": \"Hi John Customer,\\n\\nYour order ORD-12345 is now shipped.\\nTotal: $149.99\\n\\nIf you have questions, reply to this email.\\n\\n- Store Notifications\" }, { \"type\": \"text/html\", \"value\": \"<html><body><p>Hi John Customer,</p><p>Your order <strong>ORD-12345</strong> is now <strong>shipped</strong>.</p><p>Total: <strong>$149.99</strong></p><p>If you have questions, just reply to this email.</p><p>- Store Notifications</p></body></html>\" } ] }",
      "latency_ms": 51359.638875117525,
      "error": null
    },
    {
      "scenario_id": 11,
      "request": "Send an SMS alert via Twilio about the system status",
      "expected_action": "twilio_send_sms",
      "actual_action": "twilio_send_sms",
      "action_correct": true,
      "liquid_valid": true,
      "renders_to_json": true,
      "reasoning": "The user requested sending an SMS alert via Twilio. The 'twilio_send_sms' action matches this need and the available variables provide the required fields: 'alert_phone' for To, 'twilio_number' for From, and 'alert' details for the Body. According to the Twilio Create a Message API, the required payload fields are To, From, and Body, which are populated using the workflow variables.",
      "proposed_config": "{ \"To\": \"{{ alert_phone }}\", \"From\": \"{{ twilio_number }}\", \"Body\": \"\u26a0\ufe0f System {{ alert.type | upcase }}: {{ alert.message }}\\nTimestamp: {{ alert.timestamp }}\" }",
      "rendered_config": "{ \"To\": \"+14155551234\", \"From\": \"+14155559876\", \"Body\": \"\u26a0\ufe0f System WARNING: CPU usage exceeded 90% on production server\\nTimestamp: 2024-01-08T14:30:00Z\" }",
      "latency_ms": 31090.887000085786,
      "error": null
    }
  ]
}